<nav x-data="{searching: false}">
    <div class="flex items-center justify-between h-16 max-w-5xl px-3 py-3 mx-auto">
        <a href="/" class="text-xl font-bold hover:text-hot-pink" x-show="! searching">{{ settings:site_name }}</a>
        <button class="transition-all duration-100 outline-none hover:text-hot-pink" @click="searching = true; $nextTick(() => { $refs.search.focus() })" aria-label="Search the site">
            {{ svg src="search-{settings:personality}" class="w-6 h-6" }}
        </button>
        <ul>
          {{ nav:main }}
          <li><a href="{{ url }}">{{ title }}</a></li>
          {{ /nav:main }}
        </ul>
        <form action="/search" x-show="searching" x-cloak class="flex-1">
            <input
                name="q"
                type="text"
                class="w-full px-2 py-1 ml-3 outline-none"
                placeholder="Search for stuff"
                x-on:blur="searching = false"
                @keydown.enter="search"
                @keydown.esc="searching = false"
                x-show="searching"
                x-ref="search"
            />
        </form>
    </div>
    <div class="w-full border-b-2 border-black squiggle"></div>
</nav>
